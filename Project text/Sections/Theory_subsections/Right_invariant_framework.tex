\subsection{Right-invariant framework}
% BZ: This metric is invariant under the group action of Sp(2k, R)
% from the right and induces therefore a Riemannian metric on the symplectic subspaces
% that will be considered in Subsection 4.2.
\todo[inline]{Intro for this section. now that sp and spst are defined, define right inv. framework in sp, then guide the framework through to spst.}

\todo[inline]{The goal for this section is to use the right-invariant metric defined on the symplectic group to define an appropriate metric on the symplectic Stiefel manifold. }

% Right-invariant metric
\todo[inline]{many of the usual SpSt metrics do not have geodesics, therefore... We need a proper metric for $\mathrm{SpSt}(2n, 2k)$ in the sense that we need a metric that allows us to perform optimization on this manifold. To this end we need a metric that makes it possible to derive geodesics, as opposed to (BZ sources). The following metric defined in BZ fulfils our criteria.}

Define the point-wise right-invariant metric on $\mathrm{Sp}(2n)$ as the mapping $g_{p}^{\mathrm{Sp}}:T_{p}\mathrm{Sp}(2n)\times T_{p}\mathrm{Sp}(2n)\xrightarrow{}\mathbb{R}$, 
\begin{equation}\label{eq:sp_metric}
    g_{p}^{\mathrm{Sp}}(X_{1},X_{2})\coloneqq\frac{1}{2}\operatorname{tr}((X_{1}p^{+})^{T}X_{2}p^{+}),\quad X_{1},X_{2}\in T_{p}\mathrm{Sp}(2n).
\end{equation}
It is right-invariant in the sense that
$g_{pq}^{\mathrm{Sp}}(X_{1}q,X_{2}q)=\tfrac{1}{2}\mathrm{tr}((X_{1}qq^{+}p^{+})^{T}X_{2}qq^{+}p^{+})=g_{p}^{\mathrm{Sp}}(X_{1},X_{2})$ for all $p\in \mathrm{Sp}(2n)$.

Now \todo{rewrite these two sentences}that we have defined $g_{p}^{\mathrm{Sp}}$, we want to, in a sense, transport it to $\mathrm{SpSt}(2n, 2k)$ in a way that preserves the right-invariance. To achieve this we will use a \textit{horizontal lift} to define a metric on $\mathrm{SpSt}(2n, 2k)$ through \ref{eq:sp_metric}. Split $T_{p}\mathrm{Sp}(2n)$ into to parts: the horizontal- and vertical part, with respect to $g^\mathrm{Sp}_{p}$ and $\pi$: % TODO: Define \pi! BZ (3.2)

\begin{equation}\label{eq:spst_split}
    T_{p}\mathrm{Sp}(2n)=\operatorname{Ver}^{\pi}_{p}\mathrm{Sp}(2n)\oplus \operatorname{Hor}^{\pi}_{p}\mathrm{Sp}(2n).
\end{equation}
\todo[inline]{Define $\operatorname{Ver}^{\pi}_{p}\mathrm{Sp}(2n)$ and $\operatorname{Hor}^{\pi}_{p}\mathrm{Sp}(2n)$ in a smart way. Maybe just a reference if I do not have the space.}

\todo[inline]{Rework the following paragraph. see obsidian}
The point-wise right-invariant Riemannian metric on $\mathrm{SpSt}(2n, 2k)$ is defined as the mapping $g_{p}:T_{p}\mathrm{SpSt}(2n, 2k)\times T_{p}\mathrm{SpSt}(2n, 2k)\xrightarrow{}\mathbb{R}$, $g_{p}(X_{1},X_{2})\coloneqq g^{\mathrm{Sp}}_{p}((X_{1})^{\mathrm{hor}}_{p},(X_{2})^{\mathrm{hor}}_{p})$. More explicitly

\todo[inline]{Look at 20, Theorem 2.28 in BZ to maybe skip the derivation up to gp}

\begin{equation}\label{eq:spst_metric}
    g_{p}(X_{1},X_{2})=\operatorname{tr}\left(X_{1}^{T}\left(I_{2n}- \frac{1}{2}J_{2n}^{T}p(p^{T}p)^{-1}p^{T}J_{2n}\right)X_{2}(p^{T}p)^{-1}\right),
\end{equation}
for $X_{1},X_{2}\in T_{p}\mathrm{SpSt}(2n, 2k)$. For this metric, \todo{pi here is weird, change this so it is more clear what it does}$\pi$ denotes a Riemannian submersion.

\todo[inline]{Define geodesics as in BZ}
